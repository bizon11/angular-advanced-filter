/*!
 * angular-ht-advanced-filter
 * https://github.com/hightest/angular-advanced-filter
 * Version: 0.0.1 - 2015-01-12T12:08:31.193Z
 * License: 
 */
angular.module("ht.advanced-filter",[]).directive("htAdvancedFilter",function(){return{require:"^ngModel",scope:{htAdvancedFilter:"=",ngModel:"="},templateUrl:"advanced-filter.html",controller:["$scope","$filter",function(e,l){var r=e.ngModel,n=e.htAdvancedFilter;e.ngModel=r,e.fields=[{name:"Wszędzie",field:"$"}],e.fields=e.fields.concat(n.fields),e.filterTypes=[{name:"Szukaj w",value:"filter"},{name:"Mniejszy od",value:"lessThanOrEqualTo"},{name:"Większy od",value:"greaterThanOrEqualTo"}],e.filters=[],e.add=function(){e.filters.push({filter:e.filterTypes[0].value,field:"$",value:""})};var t=function(e){var l={};return angular.forEach(e,function(e){e.value.length&&(angular.isUndefined(l[e.filter])&&(l[e.filter]={}),l[e.filter][e.field]=e.value)}),l};e.$watch("filters",function(n,i){if(i!=n){var a=angular.copy(r),f=t(n);angular.forEach(f,function(e,r){a=l(r)(a,e)}),e.ngModel=a}},!0),e.remove=function(l){e.filters.splice(l,1)}}]}}).filter("greaterThanOrEqualTo",["filterFilter",function(e){return function(l,r){return e(l,r,function(e,l){var r=function(e){return!isNaN(parseFloat(e))};return r(e)&&r(l)?e>=l:!1})}}]).filter("lessThanOrEqualTo",["filterFilter",function(e){return function(l,r){return e(l,r,function(e,l){var r=function(e){return!isNaN(parseFloat(e))};return r(e)&&r(l)?l>=e:!1})}}]),angular.module("ht.advanced-filter").run(["$templateCache",function(e){e.put("advanced-filter.html",'<div class="form-inline" ng-repeat="filter in filters"><div class="form-group"><select class="form-control" ng-model="filter.filter" ng-options="filterType.value as filterType.name for filterType in filterTypes"></select></div><div class="form-group"><select class="form-control" ng-model="filter.field" ng-options="field.field as field.name for field in fields"></select></div><div class="form-group"><input class="form-control" type="text" ng-model="filter.value"></div><div class="form-group"><span class="glyphicon glyphicon-remove-circle" ng-click="remove($index)"></span></div></div><button type="button" class="btn btn-default" ng-click="add()">Dodaj filtr</button>')}]);